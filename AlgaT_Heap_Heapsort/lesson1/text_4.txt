La creazione e il mantenimento di un heap girano intorno alla funzione maxHeapRestore() / minHeapRestore(). Data una posizione i nell’heap e la precondizione che i sottoalberi radicati nei due figli di i rispettino già le proprietà dell’heap, heapRestore verifica se il nodo i rispetti le proprietà dell’heap verificando se è > (nel caso di maxHeapRestore) o < (nel caso di minHeapRestore) dei suoi figli. In caso non le rispetti, il nodo viene scambiato con il maggiore (o minore) dei due figli e la funzione viene applicata ricorsivamente al nodo successivo per assicurarsi che l’intera struttura continui a mantenere le proprietà di un heap.